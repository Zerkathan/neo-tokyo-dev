Analiza el sistema de colaboraci√≥n multi-agente Neo-Tokyo Dev v3.0 y prop√≥n mejoras.

DESCRIPCI√ìN DEL SISTEMA ACTUAL:

El sistema ai_duo.py (918 l√≠neas) implementa colaboraci√≥n entre dos agentes:
- üèõÔ∏è Arquitecto Supremo (Distinguished Engineer)
- ‚ö° Implementador Supremo (Staff Engineer)

ARQUITECTURA ACTUAL:

1. LLMProvider (ABC) con 3 implementaciones:
   - OpenAIProvider (AsyncOpenAI)
   - AnthropicProvider (AsyncAnthropic)  
   - GeminiProvider (wrapper async con run_in_executor)

2. Agent class con m√©todo async chat():
   - Retry autom√°tico: 3 intentos
   - Backoff exponencial: retry_delay * (2 ** attempt)
   - Manejo de errores: APIConnectionError, APIRateLimitError, APIAuthenticationError

3. Sistema de logging:
   - CyberpunkFormatter con colores ANSI
   - Logging s√≠ncrono con logging.Logger
   - Sin rotaci√≥n de archivos
   - Sin structured logging (JSON)

4. Manejo de errores actual:
   ```python
   for attempt in range(self._retry_count):
       try:
           reply = await self.provider.generate_response(...)
           return reply
       except APIRateLimitError as e:
           wait_time = self._retry_delay * (2 ** attempt)
           await asyncio.sleep(wait_time)
       except APIConnectionError as e:
           wait_time = self._retry_delay * (2 ** attempt)
           await asyncio.sleep(wait_time)
   ```

PROBLEMAS IDENTIFICADOS:

1. **Sin Circuit Breaker**: Si un provider falla repetidamente, sigue intentando
2. **Sin Timeouts configurables**: Llamadas pueden colgarse indefinidamente
3. **Backoff sin jitter**: Puede causar thundering herd
4. **Logging s√≠ncrono**: Puede ser bottleneck en alta carga
5. **Sin health checks**: No detecta providers ca√≠dos proactivamente
6. **Sin fallback**: Si un provider falla, no intenta otro
7. **Sin m√©tricas**: No hay observability (latencia, errores, etc.)
8. **Sin bulkhead**: Un provider lento afecta todo el sistema

TAREA:

Dise√±a e implementa mejoras para hacer el sistema m√°s resiliente:

1. **Circuit Breaker Pattern**:
   - Estados: CLOSED, OPEN, HALF_OPEN
   - Threshold de errores antes de abrir
   - Timeout antes de intentar HALF_OPEN
   - Por provider (no global)

2. **Timeout Strategy**:
   - Timeouts configurables por provider
   - Timeout total para la operaci√≥n completa
   - Cancel de operaciones que excedan timeout

3. **Retry con Jitter**:
   - Agregar jitter aleatorio al backoff
   - Evitar thundering herd
   - Formula: wait_time = base * (2 ** attempt) + random(0, jitter)

4. **Async Logging**:
   - Usar aiologger o logging async
   - Queue de logs para no bloquear
   - Rotaci√≥n de archivos
   - Structured logging (JSON)

5. **Health Checks**:
   - Ping peri√≥dico a providers
   - Detecci√≥n proactiva de providers ca√≠dos
   - M√©tricas de latencia por provider

6. **Fallback Strategy**:
   - Si provider A falla, intentar provider B
   - Lista de providers en orden de preferencia
   - Configuraci√≥n de fallbacks

7. **Observability**:
   - M√©tricas: latencia, errores, retries
   - Exportar a Prometheus/StatsD
   - Dashboard de health

RESULTADO ESPERADO:

1. An√°lisis detallado de cada problema
2. Dise√±o de la arquitectura mejorada
3. Implementaci√≥n de los componentes cr√≠ticos:
   - CircuitBreaker class
   - ResilientLLMProvider wrapper
   - AsyncLogger system
   - HealthChecker
   - MetricsCollector
4. C√≥digo completo con type hints y docstrings
5. Ejemplos de configuraci√≥n
6. Tests para los nuevos componentes

